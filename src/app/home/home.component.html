<header class="pexels-header">
  <span class="emarket-logo">E-Market</span>
  <nav class="pexels-navbar">
    <form class="search-bar" (submit)="onSearch($event)">
      <input type="text" [(ngModel)]="searchTerm" name="search" placeholder="Tìm kiếm tranh, mẫu: flowers, nature, art..." />
      <button type="submit"><mat-icon>search</mat-icon></button>
    </form>
    <a href="#" class="nav-link">Explore</a>
    <a href="#" class="nav-link">License</a>
    <a href="#" class="nav-link">Upload</a>
  </nav>
  <button class="logout" mat-button (click)="authService.logout()">
    <mat-icon>logout</mat-icon> Log Out
  </button>
</header>

<main>
  <h2 class="homepage-title">Shop Ảnh Nghệ Thuật Online</h2>
  <div *ngIf="loading" class="loading-indicator"><mat-spinner></mat-spinner></div>
  <div class="photo-gallery" *ngIf="!loading">
    <div class="gallery-item" *ngFor="let photo of photos" (click)="showPhotoDetail(photo)">
      <img [src]="photo.src.large" [alt]="photo.alt" />
      <div class="photo-caption">
        <span>{{ photo.photographer }}</span>
        <span class="photo-price">{{ randomPrices[photo.id] | currency:'VND':'symbol':'1.0-0' }}</span>
      </div>
    </div>
  </div>
</main>

<!-- Photo detail dialog -->
<div class="photo-dialog-backdrop" *ngIf="openPhoto" (click)="closeDialog()"></div>
<div class="photo-dialog" *ngIf="openPhoto">
  <img [src]="openPhoto.src.large" [alt]="openPhoto.alt" class="dialog-image" />
  <div class="dialog-info">
    <h3>{{ openPhoto.alt || 'Photo by ' + openPhoto.photographer }}</h3>
    <p>Tác giả: {{ openPhoto.photographer }}</p>
    <p>Giá: <span class="photo-price">{{ randomPrices[openPhoto.id] | currency:'VND':'symbol':'1.0-0' }}</span></p>
    <button mat-raised-button color="primary" (click)="addToCart(openPhoto)">Add to cart</button>
    <button mat-button class="close-dialog" (click)="closeDialog()">Đóng</button>
  </div>
</div>